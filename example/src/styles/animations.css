/* 基于原版 CUI 项目的动画系统 - 复刻版本 */

/* 基础动画定义 - 与原版保持一致 */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUpOut {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-20px);
  }
}

/* History 侧边栏动画 - 从上往下展开，无回弹，防止闪烁 */
@keyframes slideDownExpand {
  from {
    opacity: 0;
    transform: translateY(-20px) scaleY(0.8);
    transform-origin: top;
  }
  to {
    opacity: 1;
    transform: translateY(0) scaleY(1);
    transform-origin: top;
  }
}

@keyframes slideUpCollapse {
  from {
    opacity: 1;
    transform: translateY(0) scaleY(1);
    transform-origin: top;
  }
  to {
    opacity: 0;
    transform: translateY(-20px) scaleY(0.8);
    transform-origin: top;
  }
}

/* 页面切换动画 - 丝滑过渡效果 */
@keyframes homeToConversationEnter {
  from {
    opacity: 0;
    transform: translateY(30px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes homeToConversationExit {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(-30px) scale(0.95);
  }
}

/* 输入框向下移动动画 - 先快后慢，精确到底部位置 */
@keyframes composerMoveToBottom {
  0% {
    position: relative;
    transform: translateY(0);
    opacity: 1;
  }
  40% {
    /* 前40%快速移动 */
    position: relative;
    transform: translateY(25vh);
    opacity: 1;
  }
  100% {
    /* 后60%慢速到达最终位置 - 完全移动到页面底部 */
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    opacity: 1;
    width: 100%;
    max-width: 54rem; /* slightly narrower than previous (1.125x of 48rem) */
    padding: 0 1rem;
  }
}

/* 用户文字向上飞行动画 - 精确移动到对话区域顶部 */
@keyframes textFlyToMessageArea {
  0% {
    opacity: 1;
    transform: translateY(0);
  }
  100% {
    opacity: 1;
    transform: translateY(-45vh);
  }
}

/* 用户输入消息向上滑动到消息区域 */
@keyframes messageSlideToTop {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 1;
    transform: translateY(-25vh);
  }
}

/* 渐变淡入效果 - 用于对话页面元素 */
@keyframes gentleFadeIn {
  from {
    opacity: 0;
    transform: translateY(15px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* 标题文字淡出效果 */
@keyframes titleFadeOut {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-10px);
  }
}

/* 动画类定义 - 更慢更优雅的版本 */
.animate-fadeIn {
  animation: fadeIn 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.animate-slideUp {
  animation: slideUp 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.animate-slideDown {
  animation: slideDown 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.animate-slideUpOut {
  animation: slideUpOut 0.6s cubic-bezier(0.55, 0.06, 0.68, 0.19);
}

/* 侧边栏动画类 - 从上往下展开，无回弹效果 */
.sidebar-enter {
  animation: slideDownExpand 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.sidebar-exit {
  animation: slideUpCollapse 0.3s cubic-bezier(0.4, 0, 0.6, 1) forwards;
}

/* 页面切换动画类 - 更慢更优雅 */
.page-enter {
  animation: homeToConversationEnter 1.0s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.page-exit {
  animation: homeToConversationExit 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* Composer 移动动画类 - 先快后慢 */
.composer-move-to-bottom {
  animation: composerMoveToBottom 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* 文字飞行动画类 */
.text-fly-to-message {
  animation: textFlyToMessageArea 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* 消息滑动动画类 - 更慢更优雅 */
.message-slide-up {
  animation: messageSlideToTop 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* 渐变淡入动画类 - 更慢更柔和 */
.gentle-fade-in {
  animation: gentleFadeIn 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* 标题淡出动画类 - 更慢更柔和 */
.title-fade-out {
  animation: titleFadeOut 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* 延迟动画类 - 更快的分层延迟，减少白屏时间 */
.delay-100 { 
  animation-delay: 100ms; 
  opacity: 0;
  animation-fill-mode: forwards;
}

.delay-200 { 
  animation-delay: 150ms; 
  opacity: 0;
  animation-fill-mode: forwards;
}

.delay-300 { 
  animation-delay: 200ms; 
  opacity: 0;
  animation-fill-mode: forwards;
}

.delay-400 { 
  animation-delay: 250ms; 
  opacity: 0;
  animation-fill-mode: forwards;
}

.delay-500 { 
  animation-delay: 1000ms; 
  opacity: 0;
  animation-fill-mode: forwards;
}

/* 平滑过渡类 - 避免动画冲突 */
.smooth-transition {
  transition: opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1), transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.smooth-transition-fast {
  transition: opacity 0.25s cubic-bezier(0.4, 0, 0.2, 1), transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

.smooth-transition-slow {
  transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1), transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 特殊效果 - 脉搏和旋转 */
.animate-pulse-gentle {
  animation: fadeIn 1.5s ease-in-out infinite alternate;
}

/* 容器过渡动画 */
.container-transition {
  transition: transform 0.25s ease, opacity 0.25s ease;
}

/* Session列表项的渐进式出现动画 - 层次递进向下滑动 */
@keyframes sessionItemSlideIn {
  from {
    opacity: 0;
    transform: translateY(-15px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.session-item-enter {
  animation: sessionItemSlideIn 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  opacity: 0; /* 初始透明 */
}

/* 为session列表项提供递增延迟 - 层次递进效果 */
.session-delay-1 { animation-delay: 150ms; }
.session-delay-2 { animation-delay: 250ms; }
.session-delay-3 { animation-delay: 350ms; }
.session-delay-4 { animation-delay: 450ms; }
.session-delay-5 { animation-delay: 550ms; }
.session-delay-6 { animation-delay: 650ms; }
.session-delay-7 { animation-delay: 750ms; }
.session-delay-8 { animation-delay: 850ms; }
.session-delay-9 { animation-delay: 950ms; }
.session-delay-10 { animation-delay: 1050ms; }

/* 层次递进动画 - Home页面内容淡出 */
@keyframes staggeredFadeOut {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(-20px) scale(0.98);
  }
}

/* 层次递进动画 - 对话界面内容淡入 */
@keyframes staggeredFadeIn {
  from {
    opacity: 0;
    transform: translateY(30px) scale(0.96);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Home页面淡出动画类 */
.home-fade-out {
  animation: staggeredFadeOut 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* 对话界面淡入动画类 */
.conversation-fade-in {
  animation: staggeredFadeIn 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  opacity: 0; /* 初始透明 */
}

/* 层次递进延迟类 - 更细致的时间间隔 */
.stagger-delay-1 { animation-delay: 0ms; }
.stagger-delay-2 { animation-delay: 300ms; }
.stagger-delay-3 { animation-delay: 600ms; }
.stagger-delay-4 { animation-delay: 300ms; }
.stagger-delay-5 { animation-delay: 400ms; }

/* 反向延迟 - 从后往前淡出 */
.reverse-stagger-delay-1 { animation-delay: 400ms; }
.reverse-stagger-delay-2 { animation-delay: 300ms; }
.reverse-stagger-delay-3 { animation-delay: 200ms; }
.reverse-stagger-delay-4 { animation-delay: 100ms; }
.reverse-stagger-delay-5 { animation-delay: 0ms; }

/* 消息流入动画 - 简洁丝滑的淡入效果 */
@keyframes messageFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.message-stream-enter {
  animation: messageFadeIn 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* 对话式消息出现 - 丝滑淡入 */
.message-appear {
  opacity: 0;
  animation: messageFadeIn 1.8s cubic-bezier(0.23, 1, 0.32, 1) forwards;
}
